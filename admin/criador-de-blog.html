<!DOCTYPE html>
<html lang="pt-BR" class="h-full bg-gray-900">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Posts - DDica Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Lato', sans-serif; background-color: #030712; }
        .font-title { font-family: 'Poppins', sans-serif; }
        .form-input { background-color: #1f2937; border: 1px solid #4b5563; border-radius: 0.375rem; padding: 0.75rem; color: #d1d5db; }
        .gradient-logo { background: linear-gradient(90deg, #0ea5e9 0%, #10b981 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .gradient-btn { background: linear-gradient(90deg, #0ea5e9 0%, #10b981 100%); }
    </style>
</head>
<body class="h-full text-gray-200">

    <!-- Tela de Login -->
    <div id="login-screen" class="flex items-center justify-center min-h-screen">
        <div class="w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-lg shadow-lg">
            <div class="text-center"><h2 class="text-3xl font-extrabold font-title gradient-logo">DDica - Criador de Posts</h2><p class="mt-2 text-gray-400">Acesso restrito à equipe.</p></div>
            <form id="login-form" class="space-y-6">
                <div><label for="username" class="text-sm font-bold text-gray-400 block">Usuário</label><input type="text" id="username" class="w-full p-3 mt-1 text-gray-200 bg-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500" required></div>
                <div><label for="password" class="text-sm font-bold text-gray-400 block">Senha</label><input type="password" id="password" class="w-full p-3 mt-1 text-gray-200 bg-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500" required></div>
                <div><button type="submit" class="w-full px-4 py-3 font-bold text-white bg-sky-600 rounded-md hover:bg-sky-700 transition-colors">Entrar</button></div>
                <p id="login-error" class="text-red-400 text-sm text-center hidden">Usuário ou senha inválidos.</p>
            </form>
        </div>
    </div>

    <!-- Aplicação Principal -->
    <div id="main-app" class="hidden">
        <header class="bg-gray-900/80 backdrop-blur-sm shadow-sm">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <h1 class="text-xl font-bold font-title">Gerador de Posts para o Blog</h1>
                <button id="logout-btn" class="text-sm text-gray-400 hover:text-white transition-colors">Sair</button>
            </div>
        </header>

        <main class="container mx-auto p-6 grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Formulário de Criação -->
            <div class="bg-gray-800 p-6 rounded-lg">
                <h2 class="text-2xl font-bold font-title mb-6 text-white">1. Preencha os dados do Post</h2>
                <form id="post-form" class="space-y-4">
                    <div><label for="post-title" class="block text-sm font-semibold text-gray-300 mb-1">Título do Post</label><input type="text" id="post-title" class="w-full form-input" required></div>
                    <div><label for="post-author" class="block text-sm font-semibold text-gray-300 mb-1">Autor</label><input type="text" id="post-author" value="Equipe DDica" class="w-full form-input" required></div>
                    <div><label for="post-date" class="block text-sm font-semibold text-gray-300 mb-1">Data de Publicação</label><input type="text" id="post-date" placeholder="Ex: 20 de Agosto de 2025" class="w-full form-input" required></div>
                    <div><label for="post-image" class="block text-sm font-semibold text-gray-300 mb-1">URL da Imagem de Destaque</label><input type="url" id="post-image" placeholder="https://images.unsplash.com/..." class="w-full form-input" required></div>
                    <div><label for="post-description" class="block text-sm font-semibold text-gray-300 mb-1">Descrição Curta (para a lista do blog)</label><textarea id="post-description" rows="3" class="w-full form-input" required></textarea></div>
                    <div>
                        <label for="post-content" class="block text-sm font-semibold text-gray-300 mb-1">Conteúdo do Post (em HTML)</label>
                        <div class="flex gap-2 mb-2">
                            <button type="button" class="format-btn bg-gray-600 px-3 py-1 text-xs rounded" data-tag="h2">H2</button>
                            <button type="button" class="format-btn bg-gray-600 px-3 py-1 text-xs rounded" data-tag="p">P</button>
                            <button type="button" class="format-btn bg-gray-600 px-3 py-1 text-xs rounded" data-tag="ul">Lista</button>
                        </div>
                        <textarea id="post-content" rows="10" class="w-full form-input font-mono text-sm" placeholder="Escreva ou cole o conteúdo aqui..."></textarea>
                    </div>
                    <button type="button" id="generate-html-btn" class="w-full gradient-btn text-white p-3 rounded-lg font-bold text-lg mt-4">Gerar Código HTML</button>
                </form>
            </div>

            <!-- Resultado -->
            <div class="bg-gray-800 p-6 rounded-lg">
                <h2 class="text-2xl font-bold font-title mb-6 text-white">2. Copie o Código Gerado</h2>
                <p class="text-sm text-gray-400 mb-4">Copie todo o código abaixo e cole num novo ficheiro. Salve o ficheiro na pasta `/novidades/` com um nome descritivo (ex: `otimizacao-tributaria.html`).</p>
                <textarea id="generated-html" class="w-full h-[80vh] form-input font-mono text-xs" readonly placeholder="O código HTML completo do seu novo post aparecerá aqui..."></textarea>
            </div>
        </main>
    </div>

<script>
    const loginScreen = document.getElementById('login-screen');
    const mainApp = document.getElementById('main-app');
    const loginForm = document.getElementById('login-form');
    const loginError = document.getElementById('login-error');
    const logoutBtn = document.getElementById('logout-btn');

    loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const username = loginForm.username.value;
        const password = loginForm.password.value;
        if (username === 'ddica' && password === 'admin2025') {
            loginScreen.style.display = 'none';
            mainApp.style.display = 'block';
            loginError.classList.add('hidden');
        } else {
            loginError.classList.remove('hidden');
        }
    });

    logoutBtn.addEventListener('click', () => {
        loginScreen.style.display = 'flex';
        mainApp.style.display = 'none';
        loginForm.reset();
    });

    // --- Lógica do Gerador ---
    const generateBtn = document.getElementById('generate-html-btn');
    const outputTextarea = document.getElementById('generated-html');
    const contentTextarea = document.getElementById('post-content');

    // Botões de formatação
    document.querySelectorAll('.format-btn').forEach(button => {
        button.addEventListener('click', () => {
            const tag = button.dataset.tag;
            const selectionStart = contentTextarea.selectionStart;
            const selectionEnd = contentTextarea.selectionEnd;
            const selectedText = contentTextarea.value.substring(selectionStart, selectionEnd);
            let newText;

            if (tag === 'ul') {
                const listItems = selectedText.split('\n').map(item => `    <li>${item}</li>`).join('\n');
                newText = `<ul>\n${listItems}\n</ul>`;
            } else {
                newText = `<${tag}>${selectedText}</${tag}>`;
            }
            
            const before = contentTextarea.value.substring(0, selectionStart);
            const after = contentTextarea.value.substring(selectionEnd);
            contentTextarea.value = before + newText + after;
        });
    });

    generateBtn.addEventListener('click', () => {
        const title = document.getElementById('post-title').value;
        const author = document.getElementById('post-author').value;
        const date = document.getElementById('post-date').value;
        const imageUrl = document.getElementById('post-image').value;
        const description = document.getElementById('post-description').value;
        const content = document.getElementById('post-content').value;

        if (!title || !content) {
            alert("Por favor, preencha o Título e o Conteúdo do post.");
            return;
        }

        const template = `
<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title} - DDica</title>
    <meta name="description" content="${description}">
    <meta name="author" content="${author}">
    <script src="https://cdn.tailwindcss.com"><\/script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Lato', sans-serif; background-color: #f8fafc; color: #334155; }
        .font-title { font-family: 'Poppins', sans-serif; }
        .gradient-logo { background: linear-gradient(90deg, #0ea5e9 0%, #10b981 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .gradient-btn { background: linear-gradient(90deg, #0ea5e9 0%, #10b981 100%); }
        .post-content h2 { font-size: 1.875rem; font-weight: 700; margin-top: 2rem; margin-bottom: 1rem; color: #1e293b; font-family: 'Poppins', sans-serif; }
        .post-content p { margin-bottom: 1.25rem; line-height: 1.75; }
        .post-content ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1.25rem; }
        .post-content li { margin-bottom: 0.5rem; }
        .post-content a { color: #0ea5e9; text-decoration: underline; }
    <\/style>
</head>
<body class="bg-slate-50 text-slate-700">
    <div class="flex flex-col min-h-screen">
        <!-- Menu Principal -->
        <nav class="w-full bg-white/90 backdrop-blur-lg shadow-sm sticky top-0 z-50">
            <div class="container mx-auto px-6 py-3 flex justify-between items-center">
                <a href="../index.html" class="text-2xl font-extrabold gradient-logo tracking-tight font-title">Ddica</a>
                <ul class="hidden lg:flex gap-6 items-center font-semibold text-slate-600 text-sm">
                    <li><a href="../triagem-financeira.html" class="hover:text-sky-600 transition">Triagem financeira</a></li>
                    <li><a href="../metodo-phd.html" class="hover:text-sky-600 transition">Método PHD</a></li>
                    <li><a href="../sobre-nos.html" class="hover:text-sky-600 transition">Sobre nós</a></li>
                    <li><a href="../simuladores.html" class="hover:text-sky-600 transition">Simuladores</a></li>
                    <li><a href="../novidades.html" class="text-sky-600 border-b-2 border-sky-600 pb-1 font-bold">Novidades</a></li>
                </ul>
                <a href="https://wa.me/5511966479058?text=Olá,%20quero%20falar%20com%20um%20especialista%20da%20Ddica%20💬" target="_blank" class="hidden lg:inline-block gradient-btn text-white font-bold px-5 py-2.5 rounded-full shadow-lg hover:scale-105 transition-all text-sm">Falar com especialista</a>
            </div>
        </nav>
        <main class="flex-grow">
            <div class="container mx-auto px-6 py-12 max-w-4xl">
                <a href="../novidades.html" class="text-sky-600 font-semibold hover:text-sky-800 transition-colors">&larr; Voltar para todas as novidades</a>
                <h1 class="text-4xl md:text-5xl font-extrabold text-slate-800 mt-6 mb-4 font-title">${title}</h1>
                <p class="text-slate-500 mb-8">${date} • Por ${author}</p>
                <img src="${imageUrl}" alt="Imagem do post ${title}" class="w-full h-auto max-h-[500px] object-cover rounded-2xl shadow-lg mb-12">
                <div class="prose prose-lg max-w-none text-slate-700 post-content">
                    ${content}
                </div>
            </div>
        </main>
        <!-- Rodapé -->
        <footer class="bg-slate-900 text-white">
            <div class="container mx-auto px-6 py-12">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-center md:text-left">
                    <div class="lg:col-span-2 flex flex-col items-center md:items-start">
                        <h3 class="text-3xl font-extrabold tracking-tight gradient-logo inline-block font-title">Ddica</h3>
                        <p class="mt-4 text-slate-400 max-w-md">Cuidamos do seu futuro para que você possa focar no que faz de melhor.</p>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg text-white tracking-wider font-title">Navegação</h4>
                        <ul class="mt-4 space-y-2">
                            <li><a href="../triagem-financeira.html" class="text-slate-400 hover:text-sky-400 transition">Triagem financeira</a></li>
                            <li><a href="../metodo-phd.html" class="text-slate-400 hover:text-sky-400 transition">Método PHD</a></li>
                            <li><a href="../sobre-nos.html" class="text-slate-400 hover:text-sky-400 transition">Sobre nós</a></li>
                            <li><a href="../simuladores.html" class="text-slate-400 hover:text-sky-400 transition">Simuladores</a></li>
                            <li><a href="../novidades.html" class="text-slate-400 hover:text-sky-400 transition">Novidades</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg text-white tracking-wider font-title">Contato</h4>
                        <ul class="mt-4 space-y-3 text-slate-400">
                            <li class="flex items-center gap-2 justify-center md:justify-start"><i class="fa-solid fa-envelope fa-fw"></i><span>contato@ddica.com.br</span></li>
                            <li class="flex items-center gap-2 justify-center md:justify-start"><i class="fa-brands fa-whatsapp fa-fw"></i><span>(11) 96647-9058</span></li>
                        </ul>
                    </div>
                </div>
                <div class="mt-12 pt-8 border-t border-slate-800 text-center text-slate-500 text-sm"><p>&copy; 2025 Ddica. Todos os direitos reservados.</p></div>
            </div>
        </footer>
    </div>
</body>
</html>`;
        outputTextarea.value = template.trim();
        outputTextarea.focus();
        navigator.clipboard.writeText(template.trim()).then(() => {
            alert("Código HTML copiado para a área de transferência!");
        }).catch(err => {
            console.error('Erro ao copiar: ', err);
            alert("Erro ao copiar o código. Por favor, copie manualmente.");
        });
    });

</script>
</body>
</html>
